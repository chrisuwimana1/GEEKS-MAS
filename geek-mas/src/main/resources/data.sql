--Insert admin


insert into user(username, role, password)
values ('admin', 'ADMIN', '123456');

--Insert entries
insert into entry (name)
values ('FEB 2019');
insert into entry (name)
values ('MAY 2019');
insert into entry (name)
values ('AUG 2019');
insert into entry (name)
values ('NOV 2019');
insert into entry (name)
values ('FEB 2020');
insert into entry (name)
values ('MAY 2020');
insert into entry (name)
values ('AUG 2020');
insert into entry (name)
values ('NOV 2020');

--Insert students

insert into user(username, role, password)
values ('10000', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10001', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10002', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10003', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10004', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10005', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10006', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10007', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10008', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10009', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10010', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10011', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10012', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10013', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10014', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10015', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10016', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10017', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10018', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10019', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10020', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10021', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10022', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10023', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10024', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10025', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10026', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10027', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10028', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10029', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10030', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10031', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10032', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10033', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10034', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10035', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10036', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10037', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10038', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10039', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10040', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10041', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10042', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10043', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10044', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10045', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10046', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10047', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10048', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10049', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10050', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10051', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10052', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10053', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10054', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10055', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10056', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10057', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10058', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10059', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10060', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10061', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10062', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10063', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10064', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10065', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10066', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10067', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10068', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10069', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10070', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10071', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10072', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10073', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10074', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10075', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10076', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10077', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10078', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10079', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10080', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10081', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10082', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10083', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10084', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10085', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10086', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10087', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10088', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10089', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10090', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10091', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10092', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10093', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10094', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10095', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10096', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10097', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10098', 'STUDENT', '123456');
insert into user(username, role, password)
values ('10099', 'STUDENT', '123456');
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10000, '10000', 10000000, 'Kinyaka Benoit', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10001, '10001', 10000001, 'Zena Nicole', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10002, '10002', 10000002, 'Arsene Dumont', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10003, '10003', 10000003, 'Anh Nguyen', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10004, '10004', 10000004, 'Ndayimana Jean Eric', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10005, '10005', 10000005, 'Mbuyamba Celestin', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10006, '10006', 10000006, 'Uwimana Christian', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10007, '10007', 10000007, 'Brito Halison', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10008, '10008', 10000008, 'Kika Christian', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10009, '10009', 10000009, 'Irakunda Jean De Dieu', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10010, '10010', 10000010, 'Celestin Mbuyamba', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10011, '10011', 10000011, 'Christian Uwimana', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10012, '10012', 10000012, 'Halison Brito', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10013, '10013', 10000013, 'Christian Kika', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10014, '10014', 10000014, 'Jean De Dieu Irakunda', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10015, '10015', 10000015, 'Benoit Kinyaka', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10016, '10016', 10000016, 'Nicole Zena', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10017, '10017', 10000017, 'Dumont Arsene', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10018, '10018', 10000018, 'Nguyen Anh', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10019, '10019', 10000019, 'Jean Eric Ndayimana', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10020, '10020', 10000020, 'Kinyaka Benoit', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10021, '10021', 10000021, 'Zena Nicole', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10022, '10022', 10000022, 'Arsene Dumont', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10023, '10023', 10000023, 'Anh Nguyen', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10024, '10024', 10000024, 'Ndayimana Jean Eric', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10025, '10025', 10000025, 'Mbuyamba Celestin', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10026, '10026', 10000026, 'Uwimana Christian', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10027, '10027', 10000027, 'Brito Halison', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10028, '10028', 10000028, 'Kika Christian', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10029, '10029', 10000029, 'Irakunda Jean De Dieu', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10030, '10030', 10000030, 'Celestin Mbuyamba', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10031, '10031', 10000031, 'Christian Uwimana', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10032, '10032', 10000032, 'Halison Brito', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10033, '10033', 10000033, 'Christian Kika', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10034, '10034', 10000034, 'Jean De Dieu Irakunda', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10035, '10035', 10000035, 'Benoit Kinyaka', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10036, '10036', 10000036, 'Nicole Zena', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10037, '10037', 10000037, 'Dumont Arsene', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10038, '10038', 10000038, 'Nguyen Anh', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10039, '10039', 10000039, 'Jean Eric Ndayimana', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10040, '10040', 10000040, 'Kinyaka Benoit', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10041, '10041', 10000041, 'Zena Nicole', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10042, '10042', 10000042, 'Arsene Dumont', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10043, '10043', 10000043, 'Anh Nguyen', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10044, '10044', 10000044, 'Ndayimana Jean Eric', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10045, '10045', 10000045, 'Mbuyamba Celestin', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10046, '10046', 10000046, 'Uwimana Christian', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10047, '10047', 10000047, 'Brito Halison', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10048, '10048', 10000048, 'Kika Christian', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10049, '10049', 10000049, 'Irakunda Jean De Dieu', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10050, '10050', 10000050, 'Celestin Mbuyamba', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10051, '10051', 10000051, 'Christian Uwimana', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10052, '10052', 10000052, 'Halison Brito', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10053, '10053', 10000053, 'Christian Kika', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10054, '10054', 10000054, 'Jean De Dieu Irakunda', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10055, '10055', 10000055, 'Benoit Kinyaka', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10056, '10056', 10000056, 'Nicole Zena', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10057, '10057', 10000057, 'Dumont Arsene', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10058, '10058', 10000058, 'Nguyen Anh', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10059, '10059', 10000059, 'Jean Eric Ndayimana', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10060, '10060', 10000060, 'Kinyaka Benoit', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10061, '10061', 10000061, 'Zena Nicole', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10062, '10062', 10000062, 'Arsene Dumont', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10063, '10063', 10000063, 'Anh Nguyen', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10064, '10064', 10000064, 'Ndayimana Jean Eric', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10065, '10065', 10000065, 'Mbuyamba Celestin', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10066, '10066', 10000066, 'Uwimana Christian', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10067, '10067', 10000067, 'Brito Halison', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10068, '10068', 10000068, 'Kika Christian', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10069, '10069', 10000069, 'Irakunda Jean De Dieu', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10070, '10070', 10000070, 'Celestin Mbuyamba', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10071, '10071', 10000071, 'Christian Uwimana', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10072, '10072', 10000072, 'Halison Brito', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10073, '10073', 10000073, 'Christian Kika', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10074, '10074', 10000074, 'Jean De Dieu Irakunda', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10075, '10075', 10000075, 'Benoit Kinyaka', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10076, '10076', 10000076, 'Nicole Zena', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10077, '10077', 10000077, 'Dumont Arsene', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10078, '10078', 10000078, 'Nguyen Anh', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10079, '10079', 10000079, 'Jean Eric Ndayimana', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10080, '10080', 10000080, 'Celestin Mbuyamba', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10081, '10081', 10000081, 'Christian Uwimana', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10082, '10082', 10000082, 'Halison Brito', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10083, '10083', 10000083, 'Christian Kika', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10084, '10084', 10000084, 'Jean De Dieu Irakunda', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10085, '10085', 10000085, 'Benoit Kinyaka', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10086, '10086', 10000086, 'Nicole Zena', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10087, '10087', 10000087, 'Dumont Arsene', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10088, '10088', 10000088, 'Nguyen Anh', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10089, '10089', 10000089, 'Jean Eric Ndayimana', 2);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10090, '10090', 10000090, 'Kinyaka Benoit', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10091, '10091', 10000091, 'Zena Nicole', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10092, '10092', 10000092, 'Arsene Dumont', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10093, '10093', 10000093, 'Anh Nguyen', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10094, '10094', 10000094, 'Ndayimana Jean Eric', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10095, '10095', 10000095, 'Mbuyamba Celestin', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10096, '10096', 10000096, 'Uwimana Christian', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10097, '10097', 10000097, 'Brito Halison', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10098, '10098', 10000098, 'Kika Christian', 1);
insert into student (id, user_username, bar_code_id, name, entry_id)
values (10099, '10099', 10000099, 'Irakunda Jean De Dieu', 1);

--Insert courses

insert into course (total_days_off, id, name, number_of_weeks)
values (2, 'CS401', 'Modern Practice Programming', 4);
insert into course (total_days_off, id, name, number_of_weeks)
values (2, 'CS425', 'Software Engineering', 4);
insert into course (total_days_off, id, name, number_of_weeks)
values (2, 'CS472', 'Web Programming', 4);
insert into course (total_days_off, id, name, number_of_weeks)
values (2, 'CS525', 'Advanced Software Development', 4);
insert into course (total_days_off, id, name, number_of_weeks)
values (2, 'CS435', 'Algorithms', 4);
insert into course (total_days_off, id, name, number_of_weeks)
values (2, 'CS471', 'Parallel Programming', 4);
insert into course (total_days_off, id, name, number_of_weeks)
values (2, 'CS488', 'Big Data Analytics', 4);
insert into course (total_days_off, id, name, number_of_weeks)
values (2, 'CS544', 'Enterprise Architecture', 4);
insert into course (total_days_off, id, name, number_of_weeks)
values (2, 'CS422', 'Database Management Systems', 4);
insert into course (total_days_off, id, name, number_of_weeks)
values (2, 'CS545', 'Web Application Architecture', 4);
insert into course (total_days_off, id, name, number_of_weeks)
values (2, 'CS582', 'Machine Learning', 4);
insert into course (total_days_off, id, name, number_of_weeks)
values (2, 'CS523', 'Big Data Technology', 4);
insert into course (total_days_off, id, name, number_of_weeks)
values (0, 'MGT53412', 'Career Strategies for Information Technology', 4);
insert into course (total_days_off, id, name, number_of_weeks)
values (2, 'CS390', 'Fundamental Programming Practices', 4);
insert into course (total_days_off, id, name, number_of_weeks)
values (0, 'FOR506B', 'STC Pt2 Leadership for Tech Managers', 2);
insert into course (total_days_off, id, name, number_of_weeks)
values (0, 'FOR506A', 'STC Pt1', 2);

--Insert location

insert into location (id, name)
values ('DB', 'Dalby Hall');
insert into location (id, name)
values ('MS', 'Maharishi School');
insert into location (id, name)
values ('MG', 'Men Golden Dome');
insert into location (id, name)
values ('WG', 'Women Golden Dome');

--Insert blocks

insert into block (name)
values ('JAN 2019');
insert into block (name)
values ('FEB 2019');
insert into block (name)
values ('MAR 2019');
insert into block (name)
values ('APR 2019');
insert into block (name)
values ('MAY 2019');
insert into block (name)
values ('JUN 2019');
insert into block (name)
values ('JUL 2019');
insert into block (name)
values ('AUG 2019');
insert into block (name)
values ('SEP 2019');
insert into block (name)
values ('OCT 2019');
insert into block (name)
values ('NOV 2019');
insert into block (name)
values ('DEC 2019');
insert into block (name)
values ('JAN 2020');
insert into block (name)
values ('FEB 2020');
insert into block (name)
values ('MAR 2020');
insert into block (name)
values ('APR 2020');
insert into block (name)
values ('MAY 2020');
insert into block (name)
values ('JUN 2020');
insert into block (name)
values ('JUL 2020');
insert into block (name)
values ('AUG 2020');
insert into block (name)
values ('SEP 2020');
insert into block (name)
values ('OCT 2020');
insert into block (name)
values ('NOV 2020');
insert into block (name)
values ('DEC 2020');

--Insert faculty
insert into user(username, role, password)
values ('okalu@mum.edu', 'FACULTY', '123456');
insert into faculty (name, user_username)
values ('Obinna Kalu', 'okalu@mum.edu');
insert into user(username, role, password)
values ('pcorazza@mum.edu', 'FACULTY', '123456');
insert into faculty (name, user_username)
values ('Paul Corazza', 'pcorazza@mum.edu');
insert into user(username, role, password)
values ('mmukadam@cs.mum.edu', 'FACULTY', '123456');
insert into faculty (name, user_username)
values ('Mrudula Mukadam', 'mmukadam@cs.mum.edu');
insert into user(username, role, password)
values ('rshrestha@mum.edu', 'FACULTY', '123456');
insert into faculty (name, user_username)
values ('Rakesh Shrestha', 'rshrestha@mum.edu');
insert into user(username, role, password)
values ('gguthrie@mum.edu', 'FACULTY', '123456');
insert into faculty (name, user_username)
values ('Gregory Guthrie', 'gguthrie@mum.edu');
insert into user(username, role, password)
values ('psalek@cs.mum.edu', 'FACULTY', '123456');
insert into faculty (name, user_username)
values ('Payman Salek', 'psalek@cs.mum.edu');
insert into user(username, role, password)
values ('pphtoo@mum.edu', 'FACULTY', '123456');
insert into faculty (name, user_username)
values ('Pont Pont Htoo', 'pphtoo@mum.edu');
insert into user(username, role, password)
values ('blester@mum.edu', 'FACULTY', '123456');
insert into faculty (name, user_username)
values ('Bruce Lester', 'blester@mum.edu');
insert into user(username, role, password)
values ('mabdelrazik@mum.edu', 'FACULTY', '123456');
insert into faculty (name, user_username)
values ('Mohamed Abdelrazik', 'mabdelrazik@mum.edu');
insert into user(username, role, password)
values ('mzijlstra@cs.mum.edu', 'FACULTY', '123456');
insert into faculty (name, user_username)
values ('Michael Zijlstra', 'mzijlstra@cs.mum.edu');

--Insert sections

insert into section (room_id, start_date, block_id, course_id, faculty_id)
values ('M105', '2019-04-29', 5, 'CS401', 1);
insert into section (room_id, start_date, block_id, course_id, faculty_id)
values ('M113', '2019-04-29', 5, 'CS425', 2);
insert into section (room_id, start_date, block_id, course_id, faculty_id)
values ('M105', '2019-04-29', 5, 'CS472', 3);
insert into section (room_id, start_date, block_id, course_id, faculty_id)
values ('M115', '2019-04-29', 5, 'CS525', 4);
insert into section (room_id, start_date, block_id, course_id, faculty_id)
values ('M218', '2019-04-29', 5, 'CS401', 5);
insert into section (room_id, start_date, block_id, course_id, faculty_id)
values ('M219', '2019-04-29', 5, 'CS544', 6);
insert into section (room_id, start_date, block_id, course_id, faculty_id)
values ('V29', '2019-04-29', 5, 'CS523', 7);

insert into section (room_id, start_date, block_id, course_id, faculty_id)
values ('M105', '2019-05-27', 6, 'CS422', 5);
insert into section (room_id, start_date, block_id, course_id, faculty_id)
values ('M113', '2019-05-27', 6, 'CS545', 3);
insert into section (room_id, start_date, block_id, course_id, faculty_id)
values ('M105', '2019-05-27', 6, 'CS523', 6);
insert into section (room_id, start_date, block_id, course_id, faculty_id)
values ('M115', '2019-05-27', 6, 'CS544', 2);
insert into section (room_id, start_date, block_id, course_id, faculty_id)
values ('M218', '2019-05-27', 6, 'CS435', 1);
insert into section (room_id, start_date, block_id, course_id, faculty_id)
values ('M219', '2019-05-27', 6, 'CS472', 4);
insert into section (room_id, start_date, block_id, course_id, faculty_id)
values ('V29', '2019-05-27', 6, 'CS425', 7);

--Insert enroll

insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10000);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10001);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10002);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10003);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10004);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10005);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10006);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10007);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10008);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10009);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10010);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10011);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10012);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10013);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10014);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10015);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10016);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10017);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10018);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 1, 10019);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10020);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10021);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10022);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10023);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10024);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10025);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10026);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10027);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10028);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10029);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10030);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10031);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10032);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10033);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10034);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10035);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10036);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10037);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10038);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 2, 10039);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10040);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10041);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10042);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10043);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10044);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10045);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10046);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10047);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10048);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10049);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10050);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10051);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10052);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10053);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10054);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10055);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10056);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10057);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10058);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 3, 10059);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10060);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10061);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10062);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10063);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10064);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10065);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10066);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10067);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10068);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10069);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10070);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10071);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10072);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10073);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10074);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10075);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10076);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10077);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10078);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 4, 10079);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10000);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10001);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10002);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10003);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10004);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10005);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10006);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10007);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10008);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10009);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10010);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10011);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10012);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10013);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10014);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10015);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10016);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10017);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10018);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 8, 10019);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10020);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10021);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10022);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10023);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10024);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10025);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10026);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10027);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10028);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10029);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10030);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10031);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10032);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10033);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10034);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10035);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10036);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10037);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10038);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 9, 10039);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10040);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10041);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10042);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10043);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10044);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10045);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10046);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10047);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10048);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10049);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10050);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10051);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10052);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10053);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10054);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10055);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10056);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10057);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10058);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 10, 10059);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10060);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10061);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10062);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10063);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10064);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10065);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10066);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10067);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10068);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10069);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10070);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10071);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10072);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10073);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10074);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10075);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10076);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10077);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10078);
insert into enroll (enroll_date, section_id, student_id)
values ('2019-03-01', 11, 10079);

--Insert cancelled session

insert into cancelled_session(session_date)
values ('2019-05-04');
insert into cancelled_session(session_date)
values ('2019-05-05');
insert into cancelled_session(session_date)
values ('2019-05-06');
insert into cancelled_session(session_date)
values ('2019-05-06');
insert into cancelled_session(session_date)
values ('2019-01-01');

drop table if exists STUDENT_ENTRY;
drop table if exists STUDENT_SECTION;
drop table if exists STUDENT_FACULTY;
drop view if exists REPORTING;

drop view if exists STUDENT_ENTRY;
drop view if exists STUDENT_SECTION;
drop view if exists STUDENT_FACULTY;
drop table if exists REPORTING;

CREATE VIEW REPORTING AS (
    SELECT A.*,
           (SELECT COUNT(DISTINCT SESSION_DATE)
            FROM CANCELLED_SESSION
            WHERE SESSION_DATE BETWEEN SECTION_START_DATE AND (SECTION_START_DATE + NUMBER_OF_WEEKS * 7 - 1)
              AND (DAYOFWEEK(SESSION_DATE)) <> 1) CANCELLED_SESSION
    FROM (
             SELECT ATTENDANCE_DATE,
                    ATTENDANCE_TIME,
                    ATTENDANCE.LOCATION_ID  ATTENDANCE_LOCATION_ID,
                    STUDENT.ID              STUDENT_ID,
                    BAR_CODE_ID,
                    STUDENT.NAME            STUDENT_NAME,
                    STUDENT.USER_USERNAME   STUDENT_USER_USERNAME,
                    CASE
                        WHEN (ATTENDANCE_DATE BETWEEN SECTION.START_DATE AND (SECTION.START_DATE + NUMBER_OF_WEEKS * 7 - 1))
                            THEN 'IN_BLOCK'
                        WHEN ((ATTENDANCE_DATE NOT BETWEEN SECTION.START_DATE AND (SECTION.START_DATE + NUMBER_OF_WEEKS * 7 - 1)))
                            THEN 'OUT_BLOCK'
                        END AS              ATTENDANCE_TYPE,
                    CASE
                        WHEN ((DAYOFWEEK(ATTENDANCE_DATE) <> 1)
                            AND (ATTENDANCE_DATE NOT IN (SELECT SESSION_DATE FROM CANCELLED_SESSION))
                            AND
                              (ATTENDANCE_DATE BETWEEN SECTION.START_DATE AND (SECTION.START_DATE + (NUMBER_OF_WEEKS * 7 - TOTAL_DAYS_OFF - 2))))
                            THEN 1
                        ELSE 0
                        END AS              EXTRA_POINT_DAY,
                    LOCATION.NAME           LOCATION_NAME,
                    BLOCK.ID                BLOCK_ID,
                    BLOCK.NAME              BLOCK_NAME,
                    ENTRY.ID                ENTRY_ID,
                    ENTRY.NAME              ENTRY_NAME,
                    ENROLL_DATE,
                    SECTION.ID              SECTION_ID,
                    ROOM_ID,
                    SECTION.START_DATE      SECTION_START_DATE,
                    COURSE.ID               COURSE_ID,
                    COURSE.NAME             COURSE_NAME,
                    NUMBER_OF_WEEKS,
                    TOTAL_DAYS_OFF,
                    FACULTY.ID              FACULTY_ID,
                    FACULTY.NAME            FACULTY_NAME,
                    FACULTY.USER_USERNAME   FACULTY_USER_USERNAME,
                    TM_SESSION.SESSION_DATE TM_SESSION_DATE,
                    TM_SESSION.SESSION_TYPE TM_SESSION_TYPE
             FROM ATTENDANCE
                      INNER JOIN STUDENT ON STUDENT.ID = ATTENDANCE.STUDENT_ID
                      INNER JOIN LOCATION ON LOCATION.ID = ATTENDANCE.LOCATION_ID
                      INNER JOIN ENTRY ON ENTRY.ID = STUDENT.ENTRY_ID
                      INNER JOIN ENROLL ON ENROLL.STUDENT_ID = STUDENT.ID
                      INNER JOIN SECTION ON SECTION.ID = ENROLL.SECTION_ID
                      INNER JOIN BLOCK ON BLOCK.ID = SECTION.BLOCK_ID
                      INNER JOIN COURSE ON COURSE.ID = SECTION.COURSE_ID
                      INNER JOIN FACULTY ON FACULTY.ID = SECTION.FACULTY_ID
                      INNER JOIN USER ON STUDENT.USER_USERNAME = USER.USERNAME
                      LEFT OUTER JOIN TM_SESSION ON TM_SESSION.STUDENT_ID = STUDENT.ID
             WHERE ATTENDANCE_DATE NOT IN (SELECT SESSION_DATE FROM CANCELLED_SESSION)
               AND DAYOFWEEK(ATTENDANCE_DATE) <> 1) A
);

--Student per entry
CREATE VIEW STUDENT_ENTRY AS (
    SELECT STUDENT_ID,
           STUDENT_NAME,
           SUM(NUMBER_OF_WEEKS)                                                      NUMBER_OF_WEEKS,
           SUM(TOTAL_DAYS_OFF)                                                       TOTAL_DAYS_OFF,
           SUM(CANCELLED_SESSION)                                                    CANCELLED_SESSION,
           SUM(ATTENDED)                                                             ATTENDED,
           SUM(ATTENDED) * 100 / (SUM(NUMBER_OF_WEEKS) * 6 - SUM(CANCELLED_SESSION)) TM_PERCENT,
           ENTRY_ID,
           ENTRY_NAME
    FROM (SELECT STUDENT_ID,
                 STUDENT_NAME,
                 SUM(DISTINCT CANCELLED_SESSION) CANCELLED_SESSION,
                 NUMBER_OF_WEEKS,
                 TOTAL_DAYS_OFF,
                 COUNT(*)                        ATTENDED,
                 ENTRY_ID,
                 ENTRY_NAME,
                 SECTION_ID
          FROM REPORTING
          WHERE ATTENDANCE_TYPE = 'IN_BLOCK'
          GROUP BY ENTRY_ID, STUDENT_ID, SECTION_ID) A
    GROUP BY STUDENT_ID);

CREATE VIEW STUDENT_SECTION AS (
    SELECT A.*,
           B.NUMBER_OF_WEEKS_CUMUL,
           B.TOTAL_DAYS_OFF_CUMUL,
           B.CANCELLED_SESSION_CUMUL,
           B.ATTENDED_CUMUL,
           B.ATTENDED_CUMUL * 100 / (B.NUMBER_OF_WEEKS_CUMUL * 6 - B.CANCELLED_SESSION_CUMUL) TM_PERCENT_CUMUL,
           B.EXTRA_POINT_DAY_CUMUL,
           B.EXTRA_POINT_CUMUL
    FROM (SELECT STUDENT_ID,
                 STUDENT_NAME,
                 NUMBER_OF_WEEKS,
                 COUNT(*) * 100 / (NUMBER_OF_WEEKS * 6 - CANCELLED_SESSION) TM_PERCENT,
                 TOTAL_DAYS_OFF,
                 COUNT(*)                                                   ATTENDED,
                 SUM(EXTRA_POINT_DAY)                                       EXTRA_POINT_DAYS,
                 CASE
                     WHEN SUM(EXTRA_POINT_DAY) * 100 / (NUMBER_OF_WEEKS * 6 - TOTAL_DAYS_OFF - CANCELLED_SESSION) >= 90
                         THEN 1.5
                     WHEN SUM(EXTRA_POINT_DAY) * 100 / (NUMBER_OF_WEEKS * 6 - TOTAL_DAYS_OFF - CANCELLED_SESSION) >= 80
                         THEN 1
                     WHEN SUM(EXTRA_POINT_DAY) * 100 / (NUMBER_OF_WEEKS * 6 - TOTAL_DAYS_OFF - CANCELLED_SESSION) >= 70
                         THEN 0.5
                     ELSE 0
                     END AS                                                 EXTRA_POINT,
                 CANCELLED_SESSION,
                 BLOCK_ID,
                 BLOCK_NAME,
                 SECTION_ID,
                 COURSE_ID,
                 COURSE_NAME
          FROM REPORTING
          WHERE ATTENDANCE_TYPE = 'IN_BLOCK'
          GROUP BY BLOCK_ID, STUDENT_ID, SECTION_ID
          ORDER BY STUDENT_ID) A,
         (SELECT STUDENT_ID,
                 SUM(NUMBER_OF_WEEKS)   NUMBER_OF_WEEKS_CUMUL,
                 SUM(TOTAL_DAYS_OFF)    TOTAL_DAYS_OFF_CUMUL,
                 SUM(CANCELLED_SESSION) CANCELLED_SESSION_CUMUL,
                 SUM(ATTENDED)          ATTENDED_CUMUL,
                 SUM(EXTRA_POINT_DAYS)  EXTRA_POINT_DAY_CUMUL,
                 SUM(EXTRA_POINT)       EXTRA_POINT_CUMUL
          FROM (SELECT STUDENT_ID,
                       NUMBER_OF_WEEKS,
                       TOTAL_DAYS_OFF,
                       COUNT(*)             ATTENDED,
                       SUM(EXTRA_POINT_DAY) EXTRA_POINT_DAYS,
                       CASE
                           WHEN SUM(EXTRA_POINT_DAY) * 100 /
                                (NUMBER_OF_WEEKS * 6 - TOTAL_DAYS_OFF - CANCELLED_SESSION) >= 90
                               THEN 1.5
                           WHEN SUM(EXTRA_POINT_DAY) * 100 /
                                (NUMBER_OF_WEEKS * 6 - TOTAL_DAYS_OFF - CANCELLED_SESSION) >= 80
                               THEN 1
                           WHEN SUM(EXTRA_POINT_DAY) * 100 /
                                (NUMBER_OF_WEEKS * 6 - TOTAL_DAYS_OFF - CANCELLED_SESSION) >= 70
                               THEN 0.5
                           ELSE 0
                           END AS           EXTRA_POINT,
                       BLOCK_ID,
                       SECTION_ID,
                       CANCELLED_SESSION
                FROM REPORTING
                WHERE ATTENDANCE_TYPE = 'IN_BLOCK'
                GROUP BY BLOCK_ID, STUDENT_ID, SECTION_ID
                ORDER BY STUDENT_ID) C
          GROUP BY STUDENT_ID) B
    WHERE A.STUDENT_ID = B.STUDENT_ID);

CREATE VIEW STUDENT_FACULTY AS (
    SELECT NUMBER_OF_WEEKS,
           TOTAL_DAYS_OFF,
           CANCELLED_SESSION,
           COUNT(*)                                                   ATTENDED,
           STUDENT_ID,
           SUM(EXTRA_POINT_DAY)                                       EXTRA_POINT_DAYS,
           CASE
               WHEN SUM(EXTRA_POINT_DAY) * 100 / (NUMBER_OF_WEEKS * 6 - TOTAL_DAYS_OFF - CANCELLED_SESSION) >= 90
                   THEN 1.5
               WHEN SUM(EXTRA_POINT_DAY) * 100 / (NUMBER_OF_WEEKS * 6 - TOTAL_DAYS_OFF - CANCELLED_SESSION) >= 80
                   THEN 1
               WHEN SUM(EXTRA_POINT_DAY) * 100 / (NUMBER_OF_WEEKS * 6 - TOTAL_DAYS_OFF - CANCELLED_SESSION) >= 70
                   THEN 0.5
               ELSE 0
               END AS                                                 EXTRA_POINT,
           STUDENT_NAME,
           COUNT(*) * 100 / (NUMBER_OF_WEEKS * 6 - CANCELLED_SESSION) TM_PERCENT,
           SECTION_ID,
           BLOCK_ID,
           BLOCK_NAME,
           COURSE_NAME,
           COURSE_ID,
           SECTION_START_DATE,
           FACULTY_ID,
           FACULTY_NAME
    FROM REPORTING
    WHERE ATTENDANCE_TYPE = 'IN_BLOCK'
    GROUP BY SECTION_ID, STUDENT_ID
    ORDER BY STUDENT_ID DESC
);